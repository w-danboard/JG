## 主题

- 掌握HTTP中必备的概念
- 掌握node中的http服务的创建及应用
- url模块的使用
- 客户端和服务端的创建
- http静态服务封装

## 内容

#### 什么是HTTP? [应用层]

> 通常的网络是在TCP/IP协议族的基础上来运作的，HTTP是一个子集。

#### TCP/IP协议族 [HTTP应用层协议，在传输层的基础上，增加了一些自己的内容]

> 协议简单来说就是通信的规则。例如：通信时谁先发起请求，怎样结束，如何进行通信，把互联网相关的协议统称起来称为TCO/IP协议。

#### 协议分层 [OSI协议分层]

> (物，数 [链路层])， 网 [网络层]， 传 [传输层]， (会，表，应 [应用层])

- 应用层HTTP,FIP,DNS [与其他计算机进行通讯的一个应用服务，向用户提供应用服务时的通信活动]

- 传输层TCP(可靠) UDP数据传输(HTTP -> TCP DNS -> UDP)

- 网络层IP 选择传输路线(通过ip地址和mac地址)(使用ARP协议凭借mac地址进行通信)

- 链路层 网络连接的硬件部分

#### HTTP特点

- http是不保存状态的协议， 使用cookie来管理状态[登录，先给你cookie，我可以看一下你有没有cookie]

- 为了防止每次请求都会造成所谓的tcp连接建立和断开，所以采用保持连接的方式keep-alive

- 以前发送请求后需要等待并收到响应，才能发下一个，现在都是管线化的方式 [js css可以并发请求6 2] cdn

#### HTTP缺点

- 通信采用明文

- 不验证通信方的身份

- 无法验证内容的完整性 [内容可能被纂改]

------------------------------------------------------------------------------------

- 创建一个服务器必须要有 一个特定的ip地址 一个端口号

- 客户端给服务器发的request对象 [request客户端的信息]

- 服务端给客户端发信息responese对象 [responese服务端可以给客户端写入数据]

- http里面包含很多header信息，http是基于tcp [http中header的应用]

- http特点
  - 1. 默认无状态 [可以用cookie来管理状态]
  - 2. http 1.1 keep-alive [不会断开连接，可以采用复用的策略]
  - 3. 默认管线化 [不是一个个请求，是并发请求，可以提高发送请求的个数。说白了就是并发。（针对同一个域名，可以使用CDN的方式提高加载速度）]

- http缺点
 - 不安全，无法校验返回数据的完整性， 可以使用https

 #### http服务 客户端 服务器

 > 请求方法 GET [通过url参数传递数据] /POST [请求体传递数据] (RESTFUL风格)
 restful风格不是规范 就是根据不同的请求方法 来实现对服务器资源的操作
 
 - get 请求数据
 - post 增加数据
 - delete 删除数据
 - put 修改数据
 - options [请求什么时候出现] 预检请求 跨域

跨域：协议 域名 端口号 有任何一个不相等都是跨域 (跨域有哪些方式)
cors服务端解决跨域 (添加跨域头) jsonp nginx(反向代理) websocket iframe postmeagess window.name...

 > 简单请求和复杂请求 get和post默认就是简单请求 [如果你增加了自定义的header，比如增加了token，它就会变成复杂请求了] 
 其他的方法都是复杂请求 如果发送的是复杂请求 默认会先发送options请求 [比如我带了一堆水果去你家，我先看看你在不在家，再决定去不去你家]

#### 响应的状态码

- 101 websocket 创建连接的时候会发送
- 200 成功了
- 204 成功了但是没有响应体
- 206 断点续传 [Range:bytes=0-5，设置字节范围]
- 301 永久重定向
- 302 临时重定向
- 304 服务器缓存 [服务器配的，比如协商缓存，强制缓存...]
- 307 重定向 [是不会把post转为get的]
- 400 客户端参数不正确
- 401 没有权限 [没登录]
- 403 没有权限 [登录了没权限]
- 404 找不到
- 405 服务器不支持此请求方式
- 500 服务器的问题
- 502 负载均衡出现的问题
- 503 服务端报错

## 请求中 数据分为三部分 [请求的报文]

- 请求行 [包含请求方法，请求路径(pathname后面的部分，hash前面的部分，http-version(可以通过?传递参数))]
- 请求头 [也可以传递数据,自定义header]
- 请求体 [可以放数据，传递数据(可以二进制传递)]

## 响应中 数据分为三部分

- 响应行 [http，version,状态码，响应短语]
- 响应头 [自定义响应信息]
- 响应体 [返回给浏览器的内容]

## http基于tcp的协议 (规范)，在tcp的基础上增加了一些规范 [就是header]
- 每个hearder能干嘛？

----------------------------------------------------------------------------------------

- curl [需要本地安装git命令] 比如：curl -v www.baidu.com | curl -v -X POST www.baidu.com | curl -v -X --data a: 1 POST www.baidu.com

- postman